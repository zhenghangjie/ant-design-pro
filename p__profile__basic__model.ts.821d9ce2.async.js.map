{"version":3,"sources":["src/pages/profile/basic/model.ts","src/pages/profile/basic/service.ts"],"names":["_service","__webpack_require__","Model","namespace","state","basicGoods","effects","fetchBasic","_regenerator","default","mark","_","_ref","call","put","response","wrap","_context","prev","next","queryBasicProfile","sent","type","payload","stop","reducers","show","_ref2","_objectSpread2","_umiRequest","_interopRequireDefault","_callee","abrupt"],"mappings":"wNAIAA,EAAAC,EAAA,QAsBMC,GACJC,UAAW,eAEXC,OACEC,eAGFC,SACGC,WADMC,EAAAC,QAAAC,KAAA,SAAAH,EACKI,EADLC,GAAA,IAAAC,EAAAC,EAAAC,EAAA,OAAAP,EAAAC,QAAAO,KAAA,SAAAC,GAAA,eAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAEY,OADFN,EADVD,EACUC,KAAMC,EADhBF,EACgBE,IADhBG,EAAAE,KAAA,EAEkBN,EAAKb,EAAAoB,mBAFvB,OAGL,OADML,EAFDE,EAAAI,KAAAJ,EAAAE,KAAA,EAGCL,GACJQ,KAAM,OACNC,QAASR,IALN,wBAAAE,EAAAO,SAAAjB,MAUTkB,UACEC,KADQ,SACHtB,EADGuB,GACe,IAATJ,EAASI,EAATJ,QACZ,SAAAK,EAAAnB,YACKL,EACAmB,QAMIrB,4KCrDf2B,EAAAC,EAAA7B,EAAA,kBAEsBmB,sFAAf,SAAAW,IAAA,OAAAvB,EAAAC,QAAAO,KAAA,SAAAC,GAAA,eAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAe,OAAA,UACE,EAAAH,EAAApB,SAAQ,uBADV,wBAAAQ,EAAAO,SAAAO","file":"p__profile__basic__model.ts.821d9ce2.async.js","sourcesContent":["import { AnyAction, Reducer } from 'redux';\n\nimport { EffectsCommandMap } from 'dva';\nimport { BasicGood } from './data.d';\nimport { queryBasicProfile } from './service';\n\nexport interface StateType {\n  basicGoods: BasicGood[];\n}\n\nexport type Effect = (\n  action: AnyAction,\n  effects: EffectsCommandMap & { select: <T>(func: (state: StateType) => T) => T },\n) => void;\n\nexport interface ModelType {\n  namespace: string;\n  state: StateType;\n  effects: {\n    fetchBasic: Effect;\n  };\n  reducers: {\n    show: Reducer<StateType>;\n  };\n}\n\nconst Model: ModelType = {\n  namespace: 'profileBasic',\n\n  state: {\n    basicGoods: [],\n  },\n\n  effects: {\n    *fetchBasic(_, { call, put }) {\n      const response = yield call(queryBasicProfile);\n      yield put({\n        type: 'show',\n        payload: response,\n      });\n    },\n  },\n\n  reducers: {\n    show(state, { payload }) {\n      return {\n        ...state,\n        ...payload,\n      };\n    },\n  },\n};\n\nexport default Model;\n","import request from 'umi-request';\n\nexport async function queryBasicProfile() {\n  return request('/api/profile/basic');\n}\n"],"sourceRoot":""}